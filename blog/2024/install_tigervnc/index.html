<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Install TigerVNC Server/Client on Ubuntu Machines | Hung-Yueh Chiang</title> <meta name="author" content="Hung-Yueh Chiang"> <meta name="description" content="Install TigerVNC Server/Client on Ubuntu Machines"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/ut_shield.png"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="/blog/2024/install_tigervnc/"> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Hung-Yueh </span>Chiang</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Install TigerVNC Server/Client on Ubuntu Machines</h1> <p class="post-meta">June 30, 2024</p> <p class="post-tags"> <a href="/blog/2024"> <i class="fas fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/linux"> <i class="fas fa-hashtag fa-sm"></i> linux,</a>   <a href="/blog/tag/ubuntu"> <i class="fas fa-hashtag fa-sm"></i> ubuntu,</a>   <a href="/blog/tag/commands"> <i class="fas fa-hashtag fa-sm"></i> commands</a>   </p> </header> <article class="post-content"> <h1 id="introduction">Introduction</h1> <p>TigerVNC is a client/server application that allows users to launch and interact with graphical applications on remote machines. TigerVNC provides the levels of performance necessary to run 3D and video applications, and it attempts to maintain a common look and feel and re-use components, where possible, across the various platforms that it supports.</p> <p><br></p> <h1 id="install-and-setup-tigervnc-viewer-on-server">Install and Setup TigerVNC Viewer on Server</h1> <p><br></p> <h4 id="step-1-install-tigervnc-server">Step 1. Install TigerVNC Server.</h4> <p>First of all, ssh to the server with administrator account with sudo privileges, and install the packages using the following commands on the server.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt update
<span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>xfce4 xfce4-goodies
<span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>tightvncserver

</code></pre></div></div> <p><br></p> <h4 id="step-2-setup-tigervnc-server">Step 2. Setup TigerVNC Server</h4> <p>SSH to the server</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ssh xxx@yyy.zzz
</code></pre></div></div> <p>Configure VNC Server</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir</span> ~/.vnc
<span class="nv">$ </span>vim ~/.vnc/xstartup
</code></pre></div></div> <p>Copy the following command to your ~/.vnc/xstartup</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
xrdb <span class="nv">$HOME</span>/.Xresources
startxfce4 &amp;
</code></pre></div></div> <p>The, add execution permission to ~/.vnc/xstartup</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">chmod</span> +x ~/.vnc/xstartup
</code></pre></div></div> <p><br></p> <h4 id="step-3-launch-vnc-server">Step 3. Launch VNC Server</h4> <p>To launch VNC server, run the command below:</p> <blockquote> <p>[Note]<br> The password must be between six and eight characters long. Passwords more than 8 characters will be truncated automatically.</p> </blockquote> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># configure the resolution by -geometry</span>
<span class="nv">$ </span>vncserver :1 <span class="nt">-geometry</span> 2560x1440
Output
You will require a password to access your desktops.

Password:
Verify:
Would you like to enter a view-only password <span class="o">(</span>y/n<span class="o">)</span>? n
xauth:  file /home/hc29225/.Xauthority does not exist

New <span class="s1">'X'</span> desktop is borg:1

Creating default startup script /home/hc29225/.vnc/xstartup
Starting applications specified <span class="k">in</span> /home/hc29225/.vnc/xstartup
Log file is /home/hc29225/.vnc/borg:1.log
</code></pre></div></div> <p><br></p> <h4 id="useful-commands">Useful commands</h4> <p>Note that if you ever want to change your password or add a view-only password, you can do so with the vncpasswd command:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>vncpasswd
</code></pre></div></div> <p>To list current vncserver processes</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>vncserver <span class="nt">-list</span>
</code></pre></div></div> <p>To kill the vncserver process on the remote</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>vncserver <span class="nt">-kill</span> :1
</code></pre></div></div> <p><br></p> <h1 id="install-and-setup-tigervnc-viewer-on-local">Install and Setup TigerVNC Viewer on Local</h1> <p><br></p> <h4 id="step-1-install-tigervnc-viewer">Step 1. Install tigervnc-viewer</h4> <p>Please run the script to install tigervnc-viewer on your local machine. Note that you should have the sudo privilege of your machine or the machine is pre-installed with tigervnc-viewer.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>tigervnc-viewer
</code></pre></div></div> <p><br></p> <h4 id="step-2-setup-tigervnc-viewer-on-local">Step 2. Setup TigerVNC Viewer on Local</h4> <p>After installing the TigerVNC on the client, you should be able to find it in our machine. You will see the configuration window after clicking the TigerVNC Viewer.</p> <p><br></p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/posts/tigervnc/tigervnc_local-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/posts/tigervnc/tigervnc_local-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/posts/tigervnc/tigervnc_local-1400.webp"></source> <img src="/assets/img/posts/tigervnc/tigervnc_local.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><br></p> <p><br></p> <h4 id="step-3-connect-to-vnc-server">Step 3. Connect to VNC Server</h4> <p>Ssh to the server with port forwarding</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ssh <span class="nt">-L</span> 59000:localhost:5901 <span class="nt">-C</span> <span class="nt">-N</span> <span class="nt">-l</span> account xxx.yyy.zzz
</code></pre></div></div> <p>Or, you can configure your ~/.ssh/config like below then doing ssh</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># in your ~/.ssh/config</span>
Host xxx
    HostName xxx.yyy.zzz
    User account
    IdentityFile ~/.ssh/id_rsa
    LocalForward 59000 localhost:5901
<span class="c"># then, ssh to the server</span>
<span class="nv">$ </span>ssh account@xxx
</code></pre></div></div> <p>After ssh to the server in a terminal, Launch VNC Viewer and type in localhost:59000 and vnc password <br></p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/posts/tigervnc/tigervnc_login-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/posts/tigervnc/tigervnc_login-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/posts/tigervnc/tigervnc_login-1400.webp"></source> <img src="/assets/img/posts/tigervnc/tigervnc_login.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><br> You should be able to see the graphical user interface once connected <br></p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/posts/tigervnc/tigervnc_desktop-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/posts/tigervnc/tigervnc_desktop-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/posts/tigervnc/tigervnc_desktop-1400.webp"></source> <img src="/assets/img/posts/tigervnc/tigervnc_desktop.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><br></p> <p><br></p> <h1 id="troubleshooting">Troubleshooting</h1> <p>The gray screen is forwarded by TigerVNC <br></p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/posts/tigervnc/tigervnc_desktop_grey-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/posts/tigervnc/tigervnc_desktop_grey-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/posts/tigervnc/tigervnc_desktop_grey-1400.webp"></source> <img src="/assets/img/posts/tigervnc/tigervnc_desktop_grey.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><br></p> <p>Solution: Add executable permission ~/.vnc/xstartup on the server to fix this issue</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">chmod</span> +x ~/.vnc/xstartup
</code></pre></div></div> <p><br></p> <h1 id="reference">Reference:</h1> <ul> <li><a href="https://tigervnc.org/" rel="external nofollow noopener" target="_blank">https://tigervnc.org/</a></li> <li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-vnc-on-ubuntu-22-04" rel="external nofollow noopener" target="_blank">https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-vnc-on-ubuntu-22-04</a></li> <li><a href="https://www.howtoforge.com/how-to-install-vnc-server-ubuntu-22-04/" rel="external nofollow noopener" target="_blank">https://www.howtoforge.com/how-to-install-vnc-server-ubuntu-22-04/</a></li> <li><a href="https://bytexd.com/how-to-install-configure-vnc-server-on-ubuntu/" rel="external nofollow noopener" target="_blank">https://bytexd.com/how-to-install-configure-vnc-server-on-ubuntu/</a></li> </ul> </article><div id="disqus_thread" style="max-width: 1000px; margin: 0 auto"></div> <script type="text/javascript">var disqus_shortname="https-hychiang-info",disqus_identifier="/blog/2024/install_tigervnc",disqus_title="Install TigerVNC Server/Client on Ubuntu Machines";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();</script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by Disqus.</a> </noscript> </div> </div> <footer class="sticky-bottom mt-5"> <script type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?cl=ffffff&amp;w=190&amp;t=tt&amp;d=63L-AOUUXV7dNP9sE0J35-A9m9tVx4XT7qV2CT9AAC8&amp;co=2d78ad&amp;cmo=3acc3a&amp;cmn=ff5353&amp;ct=ffffff"></script> <div class="container"> © Copyright 2024 Hung-Yueh Chiang. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: June 30, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>